(()=>{"use strict";document.getElementById("email");const t=document.getElementById("country"),e=document.getElementById("postal-code"),s=document.getElementById("password"),i=(document.getElementById("password-confirm"),document.getElementById("error-email")),a=document.getElementById("error-country"),r=document.getElementById("error-postal-code"),n=document.getElementById("error-password"),o=document.getElementById("error-confirm-password"),d=document.getElementById("success"),l=document.getElementById("form"),c={germany:/^\d{5}$/,france:/^\d{5}$/,us:/^\d{5}(?:-\d{4})?$/,canada:/^[A-Z]\d[A-Z] \d[A-Z]\d$/,uk:/^[A-Z]{1,2}\d[A-Z\d]?\s?\d[A-Z]{2}$/,netherlands:/^\d{4} ?[A-Z]{2}$/,sweden:/^S?-?\d{3} ?\d{2}$/},u=/[-!+@#$%^&*]/,m=/\d/,v=/[a-zA-Z]/,p={hasLetter:!1,hasNumber:!1,hasSign:!1,passwordsMatch:!1},g="Email is required.",L="Enter a valid email.",h="Country is required.",b="Select a country first.",y="Postal code is required.",w="Enter a valid postal code.",A="Password is required.",E="Password must be at least 8 characters.",f="Use letter, number and special character.",B="Use number an special character.",I="Use letter an special character.",C="Use letter and number.",x="Letter is required.",q="Number is required.",S="Special character is required.",Z="Passwords don't match.",$="Enter a valid password.",M="High Five!";document.querySelectorAll("input").forEach(t=>{t.addEventListener("input",()=>{N(t)}),t.addEventListener("blur",()=>{N(t)})}),t.addEventListener("input",()=>{e.value="",N(t)}),t.addEventListener("blur",()=>{N(t)}),l.addEventListener("submit",t=>{t.preventDefault(),P(l)});const N=d=>{if("email"!==d.id)if("country"!==d.id){if("postal-code"===d.id){const e=t.value;if(""===e)return r.textContent=b,r.classList.add("show"),d.setAttribute("aria-invalid","true"),void console.log(document.getElementById("postal-code").getAttribute("aria-invalid"));if(0===d.value.length)return d.classList.add("input-error"),d.classList.remove("input-success"),r.textContent=y,r.classList.add("show"),d.setAttribute("aria-invalid","true"),void console.log(document.getElementById("postal-code").getAttribute("aria-invalid"));const s=c[e];return void(s&&!s.test(d.value)?(d.classList.add("input-error"),d.classList.remove("input-success"),r.textContent=w,r.classList.add("show"),d.setAttribute("aria-invalid","true"),console.log(document.getElementById("postal-code").getAttribute("aria-invalid"))):(d.classList.add("input-success"),d.classList.remove("input-error"),r.textContent="",r.classList.remove("show"),d.setAttribute("aria-invalid","false"),console.log(document.getElementById("postal-code").getAttribute("aria-invalid"))))}if("password"===d.id)if(d.validity.valueMissing)d.classList.add("input-error"),d.classList.remove("input-success"),n.textContent=A,n.classList.add("show"),d.setAttribute("aria-invalid","true"),console.log(document.getElementById("password").getAttribute("aria-invalid"));else if(d.validity.tooShort)d.classList.add("input-error"),d.classList.remove("input-success"),n.textContent=E,n.classList.add("show"),d.setAttribute("aria-invalid","true"),console.log(document.getElementById("password").getAttribute("aria-invalid"));else{const t=d.value;let e=!1,s=!1,i=!1;v.test(t)&&(e=!0),m.test(t)&&(s=!0),u.test(t)&&(i=!0),p.hasLetter=e,p.hasNumber=s,p.hasSign=i,e&&s&&i?(d.classList.add("input-success"),d.classList.remove("input-error"),n.classList.remove("show"),d.setAttribute("aria-invalid","false")):(d.classList.add("input-error"),d.classList.remove("input-success"),n.classList.add("show"),d.setAttribute("aria-invalid","true")),console.log(document.getElementById("password").getAttribute("aria-invalid")),e||s||i?!e||s||i?e&&s&&!i?n.textContent=S:e||!s||i?!e&&s&&i?n.textContent=x:e||s||!i?e&&!s&&i?n.textContent=q:console.log("success: letter | number | sign"):n.textContent=C:n.textContent=I:n.textContent=B:n.textContent=f}if("password-confirm"===d.id){const t=s.value;d.value!==t?(d.classList.add("input-error"),d.classList.remove("input-success"),d.setAttribute("aria-invalid","true"),console.log(document.getElementById("password-confirm").getAttribute("aria-invalid")),p.passwordsMatch=!1,o.textContent=Z,o.classList.add("show")):(p.passwordsMatch=!0,d.validity.valid?(d.classList.add("input-success"),d.classList.remove("input-error"),d.setAttribute("aria-invalid","false"),console.log(document.getElementById("password-confirm").getAttribute("aria-invalid")),o.textContent="",o.classList.remove("show")):(d.classList.add("input-error"),d.classList.remove("input-success"),d.setAttribute("aria-invalid","true"),console.log(document.getElementById("password-confirm").getAttribute("aria-invalid")),o.textContent=$,o.classList.add("show")))}}else if(d.validity.valid){a.textContent="",a.classList.remove("show"),r.textContent="",r.classList.remove("show"),t.classList.add("input-success"),t.classList.remove("input-error"),d.setAttribute("aria-invalid","false"),console.log(document.getElementById("country").getAttribute("aria-invalid"));const s=c[d.value];s&&(e.pattern=s.source),e.dispatchEvent(new Event("input"))}else a.textContent=h,a.classList.add("show"),t.classList.add("input-error"),t.classList.remove("input-success"),d.setAttribute("aria-invalid","true"),console.log(document.getElementById("country").getAttribute("aria-invalid"));else d.validity.valid?(d.classList.add("input-success"),d.classList.remove("input-error"),i.textContent="",i.classList.remove("show"),d.setAttribute("aria-invalid","false"),console.log(document.getElementById("email").getAttribute("aria-invalid"))):(0===d.value.length?i.textContent=g:i.textContent=L,d.classList.add("input-error"),d.classList.remove("input-success"),i.classList.add("show"),d.setAttribute("aria-invalid","true"),console.log(document.getElementById("email").getAttribute("aria-invalid")))},P=t=>{document.querySelectorAll("input, select").forEach(t=>{N(t)}),t.checkValidity()&&p.hasLetter&&p.hasNumber&&p.hasSign&&p.passwordsMatch&&(d.textContent=M,d.classList.add("show"),setTimeout(()=>{t.submit()},3e3))}})();
//# sourceMappingURL=main.js.map